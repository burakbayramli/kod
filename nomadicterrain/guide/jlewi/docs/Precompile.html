<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_08) on Thu Aug 03 10:07:22 CEST 2006 -->
<TITLE>
Precompile
</TITLE>

<META NAME="keywords" CONTENT="Precompile class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Precompile";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Package</FONT>&nbsp;</TD>
&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="CFmt.html" title="class in "><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="Sweclips.html" title="class in "><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Precompile.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
Class Precompile</H2>
<PRE>
java.lang.Object
  <IMG SRC="./resources/inherit.gif" ALT="extended by"><B>Precompile</B>
</PRE>
<HR>
<DL>
<DT>public class <B>Precompile</B><DT>extends java.lang.Object</DL>

<P>
A simple class to precompile Java source code similar to C precompilation.
 Instead of #define and #if / #ifdef etc., you would use //#define, //#if,
 //#ifdef etc.<p>
 The idea behind this is in having an option to generate similar sources
 out of one code base. So you can comment / uncomment different parts of
 the code via precompile switches in the source files or as arguments to
 this class (-D).<p>
 Syntax:<br>
 <blockquote>
 <code>
 java Precompile [-q] [-f] -i<InputDir> [-i<InputDir> ...] [-o<OutputDir> [-o<OutputDir> ...]] {-D<definedParameter>...}<br>
 java Precompile -l -i<InputDir> [-i<InputDir> ...]
 </code>
 </blockquote>
 In the first mode, you give this class at least one directory as parameter,
 this is the directory, where the input source files reside (-i). Optionally,
 you specify with the -o switch, where Precompile.java should put the
 precompiled source files. If the output directory does already exist, and
 it is not empty, Precompile will stop. Use the -f switch, to force
 overwriting existing files in the output directory.<br>
 Optionally, you give any amount of <i>defines</i> with
 <code>-D<i>define-name</i> -D<i>define-name</i> ...</code> as additional
 parameters.<p>
 In the second mode, Precompile will list (-l or --list) all used define
 switches in all the source files only.
 Supported precompile switches are:<br>
 <blockquote>
  <ul>
  <li><code>//#define &lt;value&gt;</code><br>
 <blockquote>
 Only to define a switch for evaluation by <code>//#ifdef</code> or
 <code>//#ifndef</code>. You can also #define values from the command line
 by the -D switch. Locally defined switches are restricted to the file in
 which they occur.
 </blockquote>
  <li><code>//#undef &lt;value&gt;</code><br>
  <li><code>//#undefine &lt;value&gt;</code><br>
 <blockquote>
 Only to undefine a previously set switch. //#undefine is also restricted to
 the file in which it appears.
 </blockquote>
  <li><code>//#if &lt;value&gt; ... //#else ... //#endif</code><br>
 <blockquote>
 This can be <i>//#if 0</i> (==false) or <i>//#if 1</i> (or any
 other Integer != 0: ==true). Otherwise it is interpreted identical to
 <i>//#ifdef &lt;value&gt;</i>.
 </blockquote>
 <li><code>//#ifdef &lt;value&gt; ... //#else ... //#endif</code><br>
 <blockquote>
 True, if &lt;value&gt; is defined prior to this line of code, false otherwise.
 </blockquote>
 <li><code>//#ifndef &lt;value&gt; ... //#else ... //#endif</code><br>
 <blockquote>
 Equal to <code>//#ifdef</code>, but with reversed logic.
 </blockquote>
  </ul>
 </blockquote>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="Precompile.html#Precompile()">Precompile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="Precompile.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You can run the class stand alone via this method. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="Precompile.html#precompile(java.lang.String[], java.lang.String[], boolean, java.lang.String[])">precompile</A></B>(java.lang.String[]&nbsp;inputDirs,
           java.lang.String[]&nbsp;outputDirs,
           boolean&nbsp;force,
           java.lang.String[]&nbsp;switches)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the routine to precompile all *.java files in a given directory.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Precompile()"><!-- --></A><H3>
Precompile</H3>
<PRE>
public <B>Precompile</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="precompile(java.lang.String[], java.lang.String[], boolean, java.lang.String[])"><!-- --></A><H3>
precompile</H3>
<PRE>
public java.lang.String[] <B>precompile</B>(java.lang.String[]&nbsp;inputDirs,
                                     java.lang.String[]&nbsp;outputDirs,
                                     boolean&nbsp;force,
                                     java.lang.String[]&nbsp;switches)
                              throws java.security.GeneralSecurityException,
                                     java.io.IOException</PRE>
<DL>
<DD>This is the routine to precompile all *.java files in a given directory.
 It takes directories as input parameter: in which directories do we look
 for the source files. Optionally, you can say, into which directory to put
 the precompiled sources. By default, Precompile.java will parse the input
 file for a package statement, and output the file to that directory.<br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inputDirs</CODE> - In which directories are the java source files? ALL Java
 source files in these directories will be precompiled.<DD><CODE>outputDirs</CODE> - In which directories to put the precompiled source files.
 They do not have to exist, they will be created automatically if needed.<br>
 This parameter may be null or empty. In this case, the method will try
 to determine the output directory by parsing the input file for a
 package statement. This method is not absolutely fool prove, but should
 work in most cases, where the package statement is not wrapped up in
 some unusual context.<DD><CODE>force</CODE> - A boolean to force overwriting the contents of any existing
 output directories before writing to them. If force is false, and an
 output directory is not empty, a GeneralSecurityException is thrown.<DD><CODE>switches</CODE> - Any &lt;DEFINES&gt; to be used as precompile options.
 Can be null if none should be applied.
<DT><B>Returns:</B><DD>A String array with warnings. Each warning String consists of three
 parts, first the filename, then the lineNumber and then the error message.
 All three parts are separated by '\n'.
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;params)</PRE>
<DL>
<DD>You can run the class stand alone via this method. As parameters, you
 have to specify at least one directory, optional are further input
 directories, output directories, and any number of switches for
 precompilation.<p>
 Parameters in detail:
 <blockquote>
 <ul>
 <li><code>-i &lt;directory&gt;</code> The directory containing the input
 source files. All *.java files in this directory will be precompiled. You
 can give multiple directories with <code>-idir1 -idir2 -idir3 ...</code>.
 <li><code>-o &lt;directory&gt;</code> (Optional) The directory to where
 the precompiled source files will be written. You can give multiple
 directories in the same way as it is explained above for the -i switch.<br>
 If you don't give output directories, Precompile.java will try to find
 a "package" statement in the source file, and use the package name as the
 output directory for that file. The method of finding the package name should
 be rather robust, but in case it fails, this is, you don't find the resulting
 file in the correct directory, specify the output directories with the -o
 switch(es). Also, if you prefer to put the output files into another directory,
 than the package name implies, you have to use -o&nbsp;.
 <li><code>-f</code> (Optional) Force overwriting existing files in the
 output directories. Precompile.java will not overwrite contents in the
 output directory by default.<b>
 When using Precompile.java without -o switch, you might first want to test
 without -f to see, if Precompile.java outputs to the directories you think.
 In following precompiles, you can then add the -f switch.
 <li><code>-D&lt;switch&gt;</code> (Optional) Any switch to be used for
 precompilation. You can have any number of -D options.
 </ul>
 </blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>params</CODE> - An array of Strings. See above for a more detailed
 explanation of possible parameters.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Package</FONT>&nbsp;</TD>
&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="CFmt.html" title="class in "><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="Sweclips.html" title="class in "><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Precompile.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
